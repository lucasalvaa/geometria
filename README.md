N.B. Il controllo sulla validità di un quadrato non è proprio perfetto.
